{
    "sourceFile": "pages/product.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1738867443737,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1738867464221,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,31 @@\n+import { useCart } from \"../context/CartContext\";\r\n+import { useState, useEffect } from \"react\";\r\n+import axios from \"axios\";\r\n+\r\n+import Header from \"../components/Header\";\r\n+import Footer from \"../components/Footer\";\r\n+\r\n import { useRouter } from \"next/router\";\r\n-import Link from \"next/link\";\r\n-import { FaHome } from \"react-icons/fa\";\r\n-import { useState } from \"react\";\r\n-\r\n export default function Product() {\r\n-\r\n+    const { cart, addToCart } = useCart(); // S·ª≠ d·ª•ng gi·ªè h√†ng t·ª´ Context\r\n+    const [products, setProducts] = useState([]);\r\n+    const [loading, setLoading] = useState(true);\r\n+    const router = useRouter();\r\n+  \r\n+    useEffect(() => {\r\n+      const fetchProducts = async () => {\r\n+        try {\r\n+          const { data } = await axios.get(\"http://localhost:5000/api/products\");\r\n+          setProducts(data);\r\n+        } catch (error) {\r\n+          console.error(\"Failed to fetch products\", error);\r\n+        } finally {\r\n+          setLoading(false);\r\n+        }\r\n+      };\r\n+      fetchProducts();\r\n+    }, []);\r\n     return (\r\n        \r\n       <div className=\"container mx-auto p-4\">\r\n       <h1 className=\"text-2xl font-bold mb-4\">S·∫£n ph·∫©m ph·ª• t√πng xe m√°y Honda</h1>\r\n"
                }
            ],
            "date": 1738867443737,
            "name": "Commit-0",
            "content": "import { useRouter } from \"next/router\";\r\nimport Link from \"next/link\";\r\nimport { FaHome } from \"react-icons/fa\";\r\nimport { useState } from \"react\";\r\n\r\nexport default function Product() {\r\n\r\n    return (\r\n       \r\n      <div className=\"container mx-auto p-4\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">S·∫£n ph·∫©m ph·ª• t√πng xe m√°y Honda</h1>\r\n\r\n      {loading ? (\r\n        <p className=\"text-center text-gray-500\">ƒêang t·∫£i s·∫£n ph·∫©m...</p>\r\n      ) : products.length === 0 ? (\r\n        <p className=\"text-center text-gray-500\">Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o.</p>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\r\n          {products.map((product) => (\r\n            <div key={product._id} className=\"border p-4 rounded shadow hover:shadow-lg transition-shadow\">\r\n              <img src={product.image} alt={product.name} className=\"w-full h-40 object-cover mb-2 rounded\" />\r\n              <h2 className=\"text-xl font-semibold\">{product.name}</h2>\r\n              <p className=\"text-gray-700 mb-2\">Gi√°: {product.price.toLocaleString()} VND</p>\r\n              <button\r\n                className=\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition-colors\"\r\n                onClick={() => addToCart(product)}\r\n              >\r\n                Th√™m v√†o gi·ªè h√†ng\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <button\r\n        className=\"mt-4 px-4 py-2 bg-green-500 text-white rounded\"\r\n        onClick={() => router.push(\"/cart\")}\r\n      >\r\n        üõí Xem gi·ªè h√†ng ({cart.length})\r\n      </button>\r\n    </div>\r\n    );\r\n}\r\n"
        }
    ]
}