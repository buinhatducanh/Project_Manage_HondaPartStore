{
    "sourceFile": "components/layout/Header.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1741337510670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741571475452,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,13 +17,11 @@\n \r\n     useEffect(() => {\r\n         const fetchBrands = async () => {\r\n             try {\r\n-\r\n                 // Nếu không có dữ liệu hợp lệ, gọi API\r\n                 const { data } = await axios.get(\"http://localhost:5000/api/brands\");\r\n                 console.log(\"Dữ liệu brands lấy từ API\");\r\n-    \r\n                 if (Array.isArray(data)) {\r\n                     setBrands(data);\r\n                 } else {\r\n                     console.error(\"Dữ liệu từ API không phải là mảng!\", data);\r\n@@ -40,8 +38,9 @@\n     \r\n     useEffect(() => {\r\n         if (router.pathname === \"/\") {\r\n             setIsHomePage(true);\r\n+            console.log(setIsHomePage)\r\n             setIsDropdownOpen(true);\r\n         } else {\r\n             setIsHomePage(false);\r\n         }\r\n"
                },
                {
                    "date": 1741571518295,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,9 @@\n     \r\n     useEffect(() => {\r\n         if (router.pathname === \"/\") {\r\n             setIsHomePage(true);\r\n-            console.log(setIsHomePage)\r\n+            console.log(isHomePage)\r\n             setIsDropdownOpen(true);\r\n         } else {\r\n             setIsHomePage(false);\r\n         }\r\n"
                },
                {
                    "date": 1741571665944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,15 +38,20 @@\n     \r\n     useEffect(() => {\r\n         if (router.pathname === \"/\") {\r\n             setIsHomePage(true);\r\n-            console.log(isHomePage)\r\n+        \r\n             setIsDropdownOpen(true);\r\n         } else {\r\n             setIsHomePage(false);\r\n         }\r\n     }, [router.pathname]);\r\n+    \r\n+    useEffect(() => {\r\n+        console.log(isHomePage);\r\n+    }, [isHomePage]); // Chạy lại khi isHomePage thay đổi\r\n \r\n+    \r\n     if (loading) {\r\n         return <div>Loading...</div>;\r\n     }\r\n \r\n"
                },
                {
                    "date": 1741571852340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,27 +31,30 @@\n             } finally {\r\n                 setLoading(false);\r\n             }\r\n         };\r\n-    \r\n+\r\n         fetchBrands();\r\n     }, []);\r\n-    \r\n+\r\n     useEffect(() => {\r\n-        if (router.pathname === \"/\") {\r\n-            setIsHomePage(true);\r\n-        \r\n+        // Kiểm tra nếu đang ở trang chủ\r\n+        setIsHomePage(router.pathname === \"/\");\r\n+    }, [router.pathname]);\r\n+\r\n+    useEffect(() => {\r\n+        // Mở dropdown nếu đang ở trang chủ\r\n+        if (isHomePage) {\r\n             setIsDropdownOpen(true);\r\n         } else {\r\n-            setIsHomePage(false);\r\n+            setIsDropdownOpen(false);\r\n         }\r\n-    }, [router.pathname]);\r\n-    \r\n-    useEffect(() => {\r\n-        console.log(isHomePage);\r\n     }, [isHomePage]); // Chạy lại khi isHomePage thay đổi\r\n \r\n-    \r\n+    useEffect(() => {\r\n+        console.log(isHomePage); // Kiểm tra isHomePage mỗi khi nó thay đổi\r\n+    }, [isHomePage]);\r\n+\r\n     if (loading) {\r\n         return <div>Loading...</div>;\r\n     }\r\n \r\n@@ -114,16 +117,15 @@\n                                 </ul>\r\n                             )}\r\n                         </li>\r\n \r\n-                        {[\r\n-                            { label: \"Trang chủ\", path: \"/\" },\r\n-                            { label: \"Phụ tùng\", path: \"/spare_parts\" },\r\n-                            { label: \"Phụ kiện\", path: \"/accessories\" },\r\n-                            { label: \"Dầu nhớt\", path: \"/lubricating_oil\" },\r\n-                            { label: \"Dịch vụ\", path: \"/service\" },\r\n-                            { label: \"Khuyến mãi\", path: \"/promotion\" },\r\n-                            { label: \"Liên hệ\", path: \"/contact\" },\r\n+                        {[{ label: \"Trang chủ\", path: \"/\" },\r\n+                        { label: \"Phụ tùng\", path: \"/spare_parts\" },\r\n+                        { label: \"Phụ kiện\", path: \"/accessories\" },\r\n+                        { label: \"Dầu nhớt\", path: \"/lubricating_oil\" },\r\n+                        { label: \"Dịch vụ\", path: \"/service\" },\r\n+                        { label: \"Khuyến mãi\", path: \"/promotion\" },\r\n+                        { label: \"Liên hệ\", path: \"/contact\" },\r\n                         ].map((menuItem, index) => (\r\n                             <li\r\n                                 key={index}\r\n                                 className=\"cursor-pointer font-bold uppercase px-4 py-2 rounded-md transition-all duration-300 hover:bg-red-600 hover:text-white\"\r\n"
                },
                {
                    "date": 1741572407926,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n                                 <p className=\"ml-[4rem] font-bold\">PHỤ TÙNG THEO XE</p>\r\n                             </span>\r\n                             {isDropdownOpen && (\r\n                                 <ul\r\n-                                    className=\"ux-nav-vertical-menu nav-vertical-fly-out absolute left-0 top-full w-72 text-white bg-stone-800 shadow-lg z-50 rounded-lg max-h-[55vh] overflow-y-auto\"\r\n+                                    className=\"ux-nav-vertical-menu nav-vertical-fly-out absolute left-0 top-full w-72 text-white bg-stone-800 shadow-lg z-50 rounded-lg max-h-[7vh] overflow-y-auto\"\r\n                                 >\r\n                                     {brands.map((brand) => (\r\n                                         <li\r\n                                             key={brand._id}\r\n"
                },
                {
                    "date": 1741572414729,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,142 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { FaPhoneAlt } from \"react-icons/fa\";\r\n+import { useRouter } from \"next/router\";\r\n+import Root from \"../Root\";\r\n+import axios from \"axios\";\r\n+import { SiHonda } from \"react-icons/si\";\r\n+import { IoMenuSharp } from \"react-icons/io5\";\r\n+import { FaSearch } from \"react-icons/fa\";\r\n+\r\n+export default function Header() {\r\n+    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n+    const [loading, setLoading] = useState(true);\r\n+    const [isHomePage, setIsHomePage] = useState(false);\r\n+    const [brands, setBrands] = useState([]);\r\n+\r\n+    const router = useRouter();\r\n+\r\n+    useEffect(() => {\r\n+        const fetchBrands = async () => {\r\n+            try {\r\n+                // Nếu không có dữ liệu hợp lệ, gọi API\r\n+                const { data } = await axios.get(\"http://localhost:5000/api/brands\");\r\n+                console.log(\"Dữ liệu brands lấy từ API\");\r\n+                if (Array.isArray(data)) {\r\n+                    setBrands(data);\r\n+                } else {\r\n+                    console.error(\"Dữ liệu từ API không phải là mảng!\", data);\r\n+                }\r\n+            } catch (error) {\r\n+                console.error(\"Lỗi khi tải danh sách thương hiệu\", error);\r\n+            } finally {\r\n+                setLoading(false);\r\n+            }\r\n+        };\r\n+\r\n+        fetchBrands();\r\n+    }, []);\r\n+\r\n+    useEffect(() => {\r\n+        // Kiểm tra nếu đang ở trang chủ\r\n+        setIsHomePage(router.pathname === \"/\");\r\n+    }, [router.pathname]);\r\n+\r\n+    useEffect(() => {\r\n+        // Mở dropdown nếu đang ở trang chủ\r\n+        if (isHomePage) {\r\n+            setIsDropdownOpen(true);\r\n+        } else {\r\n+            setIsDropdownOpen(false);\r\n+        }\r\n+    }, [isHomePage]); // Chạy lại khi isHomePage thay đổi\r\n+\r\n+    useEffect(() => {\r\n+        console.log(isHomePage); // Kiểm tra isHomePage mỗi khi nó thay đổi\r\n+    }, [isHomePage]);\r\n+\r\n+    if (loading) {\r\n+        return <div>Loading...</div>;\r\n+    }\r\n+\r\n+    return (\r\n+        <header className=\"w-full text-white bg-cover bg-center relative\"\r\n+            style={{ backgroundImage: \"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://res.cloudinary.com/dmz66rbbk/image/upload/v1740398668/headerMoto_i7iap1.png')\" }}>\r\n+            <div className=\"max-w-[90%] pt-3 mx-auto\">\r\n+                <div className=\"relative py-4 flex items-center justify-between\">\r\n+                    <div className=\"text-xl font-bold\">\r\n+                        <img src=\"/images/logo.svg\" alt=\"Logo\" />\r\n+                    </div>\r\n+\r\n+                    <div className=\"relative w-2/5\">\r\n+                        <input\r\n+                            type=\"text\"\r\n+                            placeholder=\"Nhập tên phụ tùng hoặc mã phụ tùng\"\r\n+                            className=\"w-full px-4 py-2 pr-12 rounded-md text-black border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500\"\r\n+                        />\r\n+                        <button className=\"absolute inset-y-0 right-0 px-4 flex items-center justify-center bg-red-600 text-white rounded-r-md hover:bg-red-700 transition\">\r\n+                            <FaSearch className=\"text-lg\" />\r\n+                        </button>\r\n+                    </div>\r\n+\r\n+                    <div className=\"font-bold flex items-center px-4\">\r\n+                        <FaPhoneAlt className=\"mr-3 text-3xl\" />\r\n+                        <div>\r\n+                            <p className=\"text-sm\">Hotline hỗ trợ:</p>\r\n+                            <p className=\"text-xl\">0378 443 602</p>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                {isHomePage && <Root />}\r\n+\r\n+                <nav className=\"relative text-white pb-1 mt-1\">\r\n+                    <ul className=\"flex justify-between bg-transparent px-auto rounded-md\">\r\n+                        <li\r\n+                            className=\"relative bg-red-700 px-3 py-4 cursor-pointer\"\r\n+                            onMouseEnter={() => setIsDropdownOpen(true)}\r\n+                            onMouseLeave={() => setIsDropdownOpen(false)}\r\n+                        >\r\n+                            <span className=\"text-white flex justify-between px-2\" onClick={() => router.push('/vehicle_manufacturer')}>\r\n+                                <IoMenuSharp className=\"text-2xl\" />\r\n+                                <p className=\"ml-[4rem] font-bold\">PHỤ TÙNG THEO XE</p>\r\n+                            </span>\r\n+                            {isDropdownOpen && (\r\n+                                <ul\r\n+                                    className=\"ux-nav-vertical-menu nav-vertical-fly-out absolute left-0 top-full w-72 text-white bg-stone-800 shadow-lg z-50 rounded-lg max-h-[80vh] overflow-y-auto\"\r\n+                                >\r\n+                                    {brands.map((brand) => (\r\n+                                        <li\r\n+                                            key={brand._id}\r\n+                                            className=\"flex justify-between items-center px-5 py-2 hover:bg-gray-200 cursor-pointer min-h-[8vh]\"\r\n+                                            onClick={() => router.push(`/brand/${brand.name}`)}\r\n+                                        >\r\n+                                            <SiHonda />\r\n+                                            <div className=\"text-end\">{brand.name}</div>\r\n+                                        </li>\r\n+                                    ))}\r\n+                                </ul>\r\n+                            )}\r\n+                        </li>\r\n+\r\n+                        {[{ label: \"Trang chủ\", path: \"/\" },\r\n+                        { label: \"Phụ tùng\", path: \"/spare_parts\" },\r\n+                        { label: \"Phụ kiện\", path: \"/accessories\" },\r\n+                        { label: \"Dầu nhớt\", path: \"/lubricating_oil\" },\r\n+                        { label: \"Dịch vụ\", path: \"/service\" },\r\n+                        { label: \"Khuyến mãi\", path: \"/promotion\" },\r\n+                        { label: \"Liên hệ\", path: \"/contact\" },\r\n+                        ].map((menuItem, index) => (\r\n+                            <li\r\n+                                key={index}\r\n+                                className=\"cursor-pointer font-bold uppercase px-4 py-2 rounded-md transition-all duration-300 hover:bg-red-600 hover:text-white\"\r\n+                                onClick={() => router.push(menuItem.path)}\r\n+                            >\r\n+                                {menuItem.label}\r\n+                            </li>\r\n+                        ))}\r\n+                    </ul>\r\n+                </nav>\r\n+            </div>\r\n+        </header>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1741572421665,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,142 @@\n+import React, { useEffect, useState } from \"react\";\r\n+import { FaPhoneAlt } from \"react-icons/fa\";\r\n+import { useRouter } from \"next/router\";\r\n+import Root from \"../Root\";\r\n+import axios from \"axios\";\r\n+import { SiHonda } from \"react-icons/si\";\r\n+import { IoMenuSharp } from \"react-icons/io5\";\r\n+import { FaSearch } from \"react-icons/fa\";\r\n+\r\n+export default function Header() {\r\n+    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n+    const [loading, setLoading] = useState(true);\r\n+    const [isHomePage, setIsHomePage] = useState(false);\r\n+    const [brands, setBrands] = useState([]);\r\n+\r\n+    const router = useRouter();\r\n+\r\n+    useEffect(() => {\r\n+        const fetchBrands = async () => {\r\n+            try {\r\n+                // Nếu không có dữ liệu hợp lệ, gọi API\r\n+                const { data } = await axios.get(\"http://localhost:5000/api/brands\");\r\n+                console.log(\"Dữ liệu brands lấy từ API\");\r\n+                if (Array.isArray(data)) {\r\n+                    setBrands(data);\r\n+                } else {\r\n+                    console.error(\"Dữ liệu từ API không phải là mảng!\", data);\r\n+                }\r\n+            } catch (error) {\r\n+                console.error(\"Lỗi khi tải danh sách thương hiệu\", error);\r\n+            } finally {\r\n+                setLoading(false);\r\n+            }\r\n+        };\r\n+\r\n+        fetchBrands();\r\n+    }, []);\r\n+\r\n+    useEffect(() => {\r\n+        // Kiểm tra nếu đang ở trang chủ\r\n+        setIsHomePage(router.pathname === \"/\");\r\n+    }, [router.pathname]);\r\n+\r\n+    useEffect(() => {\r\n+        // Mở dropdown nếu đang ở trang chủ\r\n+        if (isHomePage) {\r\n+            setIsDropdownOpen(true);\r\n+        } else {\r\n+            setIsDropdownOpen(false);\r\n+        }\r\n+    }, [isHomePage]); // Chạy lại khi isHomePage thay đổi\r\n+\r\n+    useEffect(() => {\r\n+        console.log(isHomePage); // Kiểm tra isHomePage mỗi khi nó thay đổi\r\n+    }, [isHomePage]);\r\n+\r\n+    if (loading) {\r\n+        return <div>Loading...</div>;\r\n+    }\r\n+\r\n+    return (\r\n+        <header className=\"w-full text-white bg-cover bg-center relative\"\r\n+            style={{ backgroundImage: \"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://res.cloudinary.com/dmz66rbbk/image/upload/v1740398668/headerMoto_i7iap1.png')\" }}>\r\n+            <div className=\"max-w-[90%] pt-3 mx-auto\">\r\n+                <div className=\"relative py-4 flex items-center justify-between\">\r\n+                    <div className=\"text-xl font-bold\">\r\n+                        <img src=\"/images/logo.svg\" alt=\"Logo\" />\r\n+                    </div>\r\n+\r\n+                    <div className=\"relative w-2/5\">\r\n+                        <input\r\n+                            type=\"text\"\r\n+                            placeholder=\"Nhập tên phụ tùng hoặc mã phụ tùng\"\r\n+                            className=\"w-full px-4 py-2 pr-12 rounded-md text-black border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500\"\r\n+                        />\r\n+                        <button className=\"absolute inset-y-0 right-0 px-4 flex items-center justify-center bg-red-600 text-white rounded-r-md hover:bg-red-700 transition\">\r\n+                            <FaSearch className=\"text-lg\" />\r\n+                        </button>\r\n+                    </div>\r\n+\r\n+                    <div className=\"font-bold flex items-center px-4\">\r\n+                        <FaPhoneAlt className=\"mr-3 text-3xl\" />\r\n+                        <div>\r\n+                            <p className=\"text-sm\">Hotline hỗ trợ:</p>\r\n+                            <p className=\"text-xl\">0378 443 602</p>\r\n+                        </div>\r\n+                    </div>\r\n+                </div>\r\n+\r\n+                {isHomePage && <Root />}\r\n+\r\n+                <nav className=\"relative text-white pb-1 mt-1\">\r\n+                    <ul className=\"flex justify-between bg-transparent px-auto rounded-md\">\r\n+                        <li\r\n+                            className=\"relative bg-red-700 px-3 py-4 cursor-pointer\"\r\n+                            onMouseEnter={() => setIsDropdownOpen(true)}\r\n+                            onMouseLeave={() => setIsDropdownOpen(false)}\r\n+                        >\r\n+                            <span className=\"text-white flex justify-between px-2\" onClick={() => router.push('/vehicle_manufacturer')}>\r\n+                                <IoMenuSharp className=\"text-2xl\" />\r\n+                                <p className=\"ml-[4rem] font-bold\">PHỤ TÙNG THEO XE</p>\r\n+                            </span>\r\n+                            {isDropdownOpen && (\r\n+                                <ul\r\n+                                    className=\"ux-nav-vertical-menu nav-vertical-fly-out absolute left-0 top-full w-72 text-white bg-stone-800 shadow-lg z-50 rounded-lg max-h-[65vh] overflow-y-auto\"\r\n+                                >\r\n+                                    {brands.map((brand) => (\r\n+                                        <li\r\n+                                            key={brand._id}\r\n+                                            className=\"flex justify-between items-center px-5 py-2 hover:bg-gray-200 cursor-pointer min-h-[8vh]\"\r\n+                                            onClick={() => router.push(`/brand/${brand.name}`)}\r\n+                                        >\r\n+                                            <SiHonda />\r\n+                                            <div className=\"text-end\">{brand.name}</div>\r\n+                                        </li>\r\n+                                    ))}\r\n+                                </ul>\r\n+                            )}\r\n+                        </li>\r\n+\r\n+                        {[{ label: \"Trang chủ\", path: \"/\" },\r\n+                        { label: \"Phụ tùng\", path: \"/spare_parts\" },\r\n+                        { label: \"Phụ kiện\", path: \"/accessories\" },\r\n+                        { label: \"Dầu nhớt\", path: \"/lubricating_oil\" },\r\n+                        { label: \"Dịch vụ\", path: \"/service\" },\r\n+                        { label: \"Khuyến mãi\", path: \"/promotion\" },\r\n+                        { label: \"Liên hệ\", path: \"/contact\" },\r\n+                        ].map((menuItem, index) => (\r\n+                            <li\r\n+                                key={index}\r\n+                                className=\"cursor-pointer font-bold uppercase px-4 py-2 rounded-md transition-all duration-300 hover:bg-red-600 hover:text-white\"\r\n+                                onClick={() => router.push(menuItem.path)}\r\n+                            >\r\n+                                {menuItem.label}\r\n+                            </li>\r\n+                        ))}\r\n+                    </ul>\r\n+                </nav>\r\n+            </div>\r\n+        </header>\r\n+    );\r\n+}\r\n"
                },
                {
                    "date": 1741572752436,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -139,288 +139,4 @@\n             </div>\r\n         </header>\r\n     );\r\n }\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { FaPhoneAlt } from \"react-icons/fa\";\r\n-import { useRouter } from \"next/router\";\r\n-import Root from \"../Root\";\r\n-import axios from \"axios\";\r\n-import { SiHonda } from \"react-icons/si\";\r\n-import { IoMenuSharp } from \"react-icons/io5\";\r\n-import { FaSearch } from \"react-icons/fa\";\r\n-\r\n-export default function Header() {\r\n-    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n-    const [loading, setLoading] = useState(true);\r\n-    const [isHomePage, setIsHomePage] = useState(false);\r\n-    const [brands, setBrands] = useState([]);\r\n-\r\n-    const router = useRouter();\r\n-\r\n-    useEffect(() => {\r\n-        const fetchBrands = async () => {\r\n-            try {\r\n-                // Nếu không có dữ liệu hợp lệ, gọi API\r\n-                const { data } = await axios.get(\"http://localhost:5000/api/brands\");\r\n-                console.log(\"Dữ liệu brands lấy từ API\");\r\n-                if (Array.isArray(data)) {\r\n-                    setBrands(data);\r\n-                } else {\r\n-                    console.error(\"Dữ liệu từ API không phải là mảng!\", data);\r\n-                }\r\n-            } catch (error) {\r\n-                console.error(\"Lỗi khi tải danh sách thương hiệu\", error);\r\n-            } finally {\r\n-                setLoading(false);\r\n-            }\r\n-        };\r\n-\r\n-        fetchBrands();\r\n-    }, []);\r\n-\r\n-    useEffect(() => {\r\n-        // Kiểm tra nếu đang ở trang chủ\r\n-        setIsHomePage(router.pathname === \"/\");\r\n-    }, [router.pathname]);\r\n-\r\n-    useEffect(() => {\r\n-        // Mở dropdown nếu đang ở trang chủ\r\n-        if (isHomePage) {\r\n-            setIsDropdownOpen(true);\r\n-        } else {\r\n-            setIsDropdownOpen(false);\r\n-        }\r\n-    }, [isHomePage]); // Chạy lại khi isHomePage thay đổi\r\n-\r\n-    useEffect(() => {\r\n-        console.log(isHomePage); // Kiểm tra isHomePage mỗi khi nó thay đổi\r\n-    }, [isHomePage]);\r\n-\r\n-    if (loading) {\r\n-        return <div>Loading...</div>;\r\n-    }\r\n-\r\n-    return (\r\n-        <header className=\"w-full text-white bg-cover bg-center relative\"\r\n-            style={{ backgroundImage: \"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://res.cloudinary.com/dmz66rbbk/image/upload/v1740398668/headerMoto_i7iap1.png')\" }}>\r\n-            <div className=\"max-w-[90%] pt-3 mx-auto\">\r\n-                <div className=\"relative py-4 flex items-center justify-between\">\r\n-                    <div className=\"text-xl font-bold\">\r\n-                        <img src=\"/images/logo.svg\" alt=\"Logo\" />\r\n-                    </div>\r\n-\r\n-                    <div className=\"relative w-2/5\">\r\n-                        <input\r\n-                            type=\"text\"\r\n-                            placeholder=\"Nhập tên phụ tùng hoặc mã phụ tùng\"\r\n-                            className=\"w-full px-4 py-2 pr-12 rounded-md text-black border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500\"\r\n-                        />\r\n-                        <button className=\"absolute inset-y-0 right-0 px-4 flex items-center justify-center bg-red-600 text-white rounded-r-md hover:bg-red-700 transition\">\r\n-                            <FaSearch className=\"text-lg\" />\r\n-                        </button>\r\n-                    </div>\r\n-\r\n-                    <div className=\"font-bold flex items-center px-4\">\r\n-                        <FaPhoneAlt className=\"mr-3 text-3xl\" />\r\n-                        <div>\r\n-                            <p className=\"text-sm\">Hotline hỗ trợ:</p>\r\n-                            <p className=\"text-xl\">0378 443 602</p>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-                {isHomePage && <Root />}\r\n-\r\n-                <nav className=\"relative text-white pb-1 mt-1\">\r\n-                    <ul className=\"flex justify-between bg-transparent px-auto rounded-md\">\r\n-                        <li\r\n-                            className=\"relative bg-red-700 px-3 py-4 cursor-pointer\"\r\n-                            onMouseEnter={() => setIsDropdownOpen(true)}\r\n-                            onMouseLeave={() => setIsDropdownOpen(false)}\r\n-                        >\r\n-                            <span className=\"text-white flex justify-between px-2\" onClick={() => router.push('/vehicle_manufacturer')}>\r\n-                                <IoMenuSharp className=\"text-2xl\" />\r\n-                                <p className=\"ml-[4rem] font-bold\">PHỤ TÙNG THEO XE</p>\r\n-                            </span>\r\n-                            {isDropdownOpen && (\r\n-                                <ul\r\n-                                    className=\"ux-nav-vertical-menu nav-vertical-fly-out absolute left-0 top-full w-72 text-white bg-stone-800 shadow-lg z-50 rounded-lg max-h-[80vh] overflow-y-auto\"\r\n-                                >\r\n-                                    {brands.map((brand) => (\r\n-                                        <li\r\n-                                            key={brand._id}\r\n-                                            className=\"flex justify-between items-center px-5 py-2 hover:bg-gray-200 cursor-pointer min-h-[8vh]\"\r\n-                                            onClick={() => router.push(`/brand/${brand.name}`)}\r\n-                                        >\r\n-                                            <SiHonda />\r\n-                                            <div className=\"text-end\">{brand.name}</div>\r\n-                                        </li>\r\n-                                    ))}\r\n-                                </ul>\r\n-                            )}\r\n-                        </li>\r\n-\r\n-                        {[{ label: \"Trang chủ\", path: \"/\" },\r\n-                        { label: \"Phụ tùng\", path: \"/spare_parts\" },\r\n-                        { label: \"Phụ kiện\", path: \"/accessories\" },\r\n-                        { label: \"Dầu nhớt\", path: \"/lubricating_oil\" },\r\n-                        { label: \"Dịch vụ\", path: \"/service\" },\r\n-                        { label: \"Khuyến mãi\", path: \"/promotion\" },\r\n-                        { label: \"Liên hệ\", path: \"/contact\" },\r\n-                        ].map((menuItem, index) => (\r\n-                            <li\r\n-                                key={index}\r\n-                                className=\"cursor-pointer font-bold uppercase px-4 py-2 rounded-md transition-all duration-300 hover:bg-red-600 hover:text-white\"\r\n-                                onClick={() => router.push(menuItem.path)}\r\n-                            >\r\n-                                {menuItem.label}\r\n-                            </li>\r\n-                        ))}\r\n-                    </ul>\r\n-                </nav>\r\n-            </div>\r\n-        </header>\r\n-    );\r\n-}\r\n-import React, { useEffect, useState } from \"react\";\r\n-import { FaPhoneAlt } from \"react-icons/fa\";\r\n-import { useRouter } from \"next/router\";\r\n-import Root from \"../Root\";\r\n-import axios from \"axios\";\r\n-import { SiHonda } from \"react-icons/si\";\r\n-import { IoMenuSharp } from \"react-icons/io5\";\r\n-import { FaSearch } from \"react-icons/fa\";\r\n-\r\n-export default function Header() {\r\n-    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n-    const [loading, setLoading] = useState(true);\r\n-    const [isHomePage, setIsHomePage] = useState(false);\r\n-    const [brands, setBrands] = useState([]);\r\n-\r\n-    const router = useRouter();\r\n-\r\n-    useEffect(() => {\r\n-        const fetchBrands = async () => {\r\n-            try {\r\n-                // Nếu không có dữ liệu hợp lệ, gọi API\r\n-                const { data } = await axios.get(\"http://localhost:5000/api/brands\");\r\n-                console.log(\"Dữ liệu brands lấy từ API\");\r\n-                if (Array.isArray(data)) {\r\n-                    setBrands(data);\r\n-                } else {\r\n-                    console.error(\"Dữ liệu từ API không phải là mảng!\", data);\r\n-                }\r\n-            } catch (error) {\r\n-                console.error(\"Lỗi khi tải danh sách thương hiệu\", error);\r\n-            } finally {\r\n-                setLoading(false);\r\n-            }\r\n-        };\r\n-\r\n-        fetchBrands();\r\n-    }, []);\r\n-\r\n-    useEffect(() => {\r\n-        // Kiểm tra nếu đang ở trang chủ\r\n-        setIsHomePage(router.pathname === \"/\");\r\n-    }, [router.pathname]);\r\n-\r\n-    useEffect(() => {\r\n-        // Mở dropdown nếu đang ở trang chủ\r\n-        if (isHomePage) {\r\n-            setIsDropdownOpen(true);\r\n-        } else {\r\n-            setIsDropdownOpen(false);\r\n-        }\r\n-    }, [isHomePage]); // Chạy lại khi isHomePage thay đổi\r\n-\r\n-    useEffect(() => {\r\n-        console.log(isHomePage); // Kiểm tra isHomePage mỗi khi nó thay đổi\r\n-    }, [isHomePage]);\r\n-\r\n-    if (loading) {\r\n-        return <div>Loading...</div>;\r\n-    }\r\n-\r\n-    return (\r\n-        <header className=\"w-full text-white bg-cover bg-center relative\"\r\n-            style={{ backgroundImage: \"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://res.cloudinary.com/dmz66rbbk/image/upload/v1740398668/headerMoto_i7iap1.png')\" }}>\r\n-            <div className=\"max-w-[90%] pt-3 mx-auto\">\r\n-                <div className=\"relative py-4 flex items-center justify-between\">\r\n-                    <div className=\"text-xl font-bold\">\r\n-                        <img src=\"/images/logo.svg\" alt=\"Logo\" />\r\n-                    </div>\r\n-\r\n-                    <div className=\"relative w-2/5\">\r\n-                        <input\r\n-                            type=\"text\"\r\n-                            placeholder=\"Nhập tên phụ tùng hoặc mã phụ tùng\"\r\n-                            className=\"w-full px-4 py-2 pr-12 rounded-md text-black border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500\"\r\n-                        />\r\n-                        <button className=\"absolute inset-y-0 right-0 px-4 flex items-center justify-center bg-red-600 text-white rounded-r-md hover:bg-red-700 transition\">\r\n-                            <FaSearch className=\"text-lg\" />\r\n-                        </button>\r\n-                    </div>\r\n-\r\n-                    <div className=\"font-bold flex items-center px-4\">\r\n-                        <FaPhoneAlt className=\"mr-3 text-3xl\" />\r\n-                        <div>\r\n-                            <p className=\"text-sm\">Hotline hỗ trợ:</p>\r\n-                            <p className=\"text-xl\">0378 443 602</p>\r\n-                        </div>\r\n-                    </div>\r\n-                </div>\r\n-\r\n-                {isHomePage && <Root />}\r\n-\r\n-                <nav className=\"relative text-white pb-1 mt-1\">\r\n-                    <ul className=\"flex justify-between bg-transparent px-auto rounded-md\">\r\n-                        <li\r\n-                            className=\"relative bg-red-700 px-3 py-4 cursor-pointer\"\r\n-                            onMouseEnter={() => setIsDropdownOpen(true)}\r\n-                            onMouseLeave={() => setIsDropdownOpen(false)}\r\n-                        >\r\n-                            <span className=\"text-white flex justify-between px-2\" onClick={() => router.push('/vehicle_manufacturer')}>\r\n-                                <IoMenuSharp className=\"text-2xl\" />\r\n-                                <p className=\"ml-[4rem] font-bold\">PHỤ TÙNG THEO XE</p>\r\n-                            </span>\r\n-                            {isDropdownOpen && (\r\n-                                <ul\r\n-                                    className=\"ux-nav-vertical-menu nav-vertical-fly-out absolute left-0 top-full w-72 text-white bg-stone-800 shadow-lg z-50 rounded-lg max-h-[7vh] overflow-y-auto\"\r\n-                                >\r\n-                                    {brands.map((brand) => (\r\n-                                        <li\r\n-                                            key={brand._id}\r\n-                                            className=\"flex justify-between items-center px-5 py-2 hover:bg-gray-200 cursor-pointer min-h-[8vh]\"\r\n-                                            onClick={() => router.push(`/brand/${brand.name}`)}\r\n-                                        >\r\n-                                            <SiHonda />\r\n-                                            <div className=\"text-end\">{brand.name}</div>\r\n-                                        </li>\r\n-                                    ))}\r\n-                                </ul>\r\n-                            )}\r\n-                        </li>\r\n-\r\n-                        {[{ label: \"Trang chủ\", path: \"/\" },\r\n-                        { label: \"Phụ tùng\", path: \"/spare_parts\" },\r\n-                        { label: \"Phụ kiện\", path: \"/accessories\" },\r\n-                        { label: \"Dầu nhớt\", path: \"/lubricating_oil\" },\r\n-                        { label: \"Dịch vụ\", path: \"/service\" },\r\n-                        { label: \"Khuyến mãi\", path: \"/promotion\" },\r\n-                        { label: \"Liên hệ\", path: \"/contact\" },\r\n-                        ].map((menuItem, index) => (\r\n-                            <li\r\n-                                key={index}\r\n-                                className=\"cursor-pointer font-bold uppercase px-4 py-2 rounded-md transition-all duration-300 hover:bg-red-600 hover:text-white\"\r\n-                                onClick={() => router.push(menuItem.path)}\r\n-                            >\r\n-                                {menuItem.label}\r\n-                            </li>\r\n-                        ))}\r\n-                    </ul>\r\n-                </nav>\r\n-            </div>\r\n-        </header>\r\n-    );\r\n-}\r\n"
                }
            ],
            "date": 1741337510670,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from \"react\";\r\nimport { FaPhoneAlt } from \"react-icons/fa\";\r\nimport { useRouter } from \"next/router\";\r\nimport Root from \"../Root\";\r\nimport axios from \"axios\";\r\nimport { SiHonda } from \"react-icons/si\";\r\nimport { IoMenuSharp } from \"react-icons/io5\";\r\nimport { FaSearch } from \"react-icons/fa\";\r\n\r\nexport default function Header() {\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isHomePage, setIsHomePage] = useState(false);\r\n    const [brands, setBrands] = useState([]);\r\n\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const fetchBrands = async () => {\r\n            try {\r\n\r\n                // Nếu không có dữ liệu hợp lệ, gọi API\r\n                const { data } = await axios.get(\"http://localhost:5000/api/brands\");\r\n                console.log(\"Dữ liệu brands lấy từ API\");\r\n    \r\n                if (Array.isArray(data)) {\r\n                    setBrands(data);\r\n                } else {\r\n                    console.error(\"Dữ liệu từ API không phải là mảng!\", data);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Lỗi khi tải danh sách thương hiệu\", error);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n    \r\n        fetchBrands();\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        if (router.pathname === \"/\") {\r\n            setIsHomePage(true);\r\n            setIsDropdownOpen(true);\r\n        } else {\r\n            setIsHomePage(false);\r\n        }\r\n    }, [router.pathname]);\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n        <header className=\"w-full text-white bg-cover bg-center relative\"\r\n            style={{ backgroundImage: \"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://res.cloudinary.com/dmz66rbbk/image/upload/v1740398668/headerMoto_i7iap1.png')\" }}>\r\n            <div className=\"max-w-[90%] pt-3 mx-auto\">\r\n                <div className=\"relative py-4 flex items-center justify-between\">\r\n                    <div className=\"text-xl font-bold\">\r\n                        <img src=\"/images/logo.svg\" alt=\"Logo\" />\r\n                    </div>\r\n\r\n                    <div className=\"relative w-2/5\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Nhập tên phụ tùng hoặc mã phụ tùng\"\r\n                            className=\"w-full px-4 py-2 pr-12 rounded-md text-black border border-gray-300 focus:outline-none focus:ring-2 focus:ring-red-500\"\r\n                        />\r\n                        <button className=\"absolute inset-y-0 right-0 px-4 flex items-center justify-center bg-red-600 text-white rounded-r-md hover:bg-red-700 transition\">\r\n                            <FaSearch className=\"text-lg\" />\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"font-bold flex items-center px-4\">\r\n                        <FaPhoneAlt className=\"mr-3 text-3xl\" />\r\n                        <div>\r\n                            <p className=\"text-sm\">Hotline hỗ trợ:</p>\r\n                            <p className=\"text-xl\">0378 443 602</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {isHomePage && <Root />}\r\n\r\n                <nav className=\"relative text-white pb-1 mt-1\">\r\n                    <ul className=\"flex justify-between bg-transparent px-auto rounded-md\">\r\n                        <li\r\n                            className=\"relative bg-red-700 px-3 py-4 cursor-pointer\"\r\n                            onMouseEnter={() => setIsDropdownOpen(true)}\r\n                            onMouseLeave={() => setIsDropdownOpen(false)}\r\n                        >\r\n                            <span className=\"text-white flex justify-between px-2\" onClick={() => router.push('/vehicle_manufacturer')}>\r\n                                <IoMenuSharp className=\"text-2xl\" />\r\n                                <p className=\"ml-[4rem] font-bold\">PHỤ TÙNG THEO XE</p>\r\n                            </span>\r\n                            {isDropdownOpen && (\r\n                                <ul\r\n                                    className=\"ux-nav-vertical-menu nav-vertical-fly-out absolute left-0 top-full w-72 text-white bg-stone-800 shadow-lg z-50 rounded-lg max-h-[55vh] overflow-y-auto\"\r\n                                >\r\n                                    {brands.map((brand) => (\r\n                                        <li\r\n                                            key={brand._id}\r\n                                            className=\"flex justify-between items-center px-5 py-2 hover:bg-gray-200 cursor-pointer min-h-[8vh]\"\r\n                                            onClick={() => router.push(`/brand/${brand.name}`)}\r\n                                        >\r\n                                            <SiHonda />\r\n                                            <div className=\"text-end\">{brand.name}</div>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            )}\r\n                        </li>\r\n\r\n                        {[\r\n                            { label: \"Trang chủ\", path: \"/\" },\r\n                            { label: \"Phụ tùng\", path: \"/spare_parts\" },\r\n                            { label: \"Phụ kiện\", path: \"/accessories\" },\r\n                            { label: \"Dầu nhớt\", path: \"/lubricating_oil\" },\r\n                            { label: \"Dịch vụ\", path: \"/service\" },\r\n                            { label: \"Khuyến mãi\", path: \"/promotion\" },\r\n                            { label: \"Liên hệ\", path: \"/contact\" },\r\n                        ].map((menuItem, index) => (\r\n                            <li\r\n                                key={index}\r\n                                className=\"cursor-pointer font-bold uppercase px-4 py-2 rounded-md transition-all duration-300 hover:bg-red-600 hover:text-white\"\r\n                                onClick={() => router.push(menuItem.path)}\r\n                            >\r\n                                {menuItem.label}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </nav>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n"
        }
    ]
}