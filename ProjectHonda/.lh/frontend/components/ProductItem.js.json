{
    "sourceFile": "frontend/components/ProductItem.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1751902381235,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1751902395108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,17 +40,17 @@\n       <div className=\"w-full h-[18rem] aspect-[3/2] overflow-hidden rounded-lg\">\r\n         <img\r\n           src={\r\n             currentImage ||\r\n-            \"https://res.cloudinary.com/dmz66rbbk/image/upload/v1741570849/empty_dhtk5e.jpg\"\r\n+            \"https://res.cloudinary.com/dmz66rbbk/image/upload/v1739377337/empty_cpvono.jpg\"\r\n           }\r\n           alt={name}\r\n           loading=\"lazy\"\r\n           decoding=\"async\"\r\n           className=\"w-full h-full object-cover rounded-lg\"\r\n           onError={(e) =>\r\n             (e.target.src =\r\n-              \"https://res.cloudinary.com/dmz66rbbk/image/upload/v1741570849/empty_dhtk5e.jpg\")\r\n+              \"https://res.cloudinary.com/dmz66rbbk/image/upload/v1739377337/empty_cpvono.jpg\")\r\n           }\r\n         />\r\n       </div>\r\n \r\n"
                }
            ],
            "date": 1751902381235,
            "name": "Commit-0",
            "content": "/* eslint-disable @next/next/no-img-element */\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { FaBoxOpen } from \"react-icons/fa\";\r\n\r\nexport default function ProductItem({\r\n  name,\r\n  price,\r\n  description,\r\n  image,\r\n  quantity,\r\n}) {\r\n  const [isValid, setValid] = useState(true);\r\n  const [currentImage, setCurrentImage] = useState(image?.[0] || \"\");\r\n  const [imageIndex, setImageIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!name || !price || !image || image.length === 0) {\r\n      setValid(false);\r\n    }\r\n  }, [name, price, image]);\r\n\r\n  const handleMouseEnter = () => {\r\n    if (image.length > 1) {\r\n      setImageIndex((prevIndex) => (prevIndex + 1) % image.length);\r\n      setCurrentImage(image[(imageIndex + 1) % image.length]);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setCurrentImage(image[0]);\r\n    setImageIndex(0);\r\n  };\r\n\r\n  return isValid ? (\r\n    <div\r\n      className=\"w-72 border p-1 rounded-2xl shadow-lg hover:shadow-xl transition-transform bg-neutral-800 backdrop-blur-md text-white snap-start hover:scale-105 duration-300\"\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      <div className=\"w-full h-[18rem] aspect-[3/2] overflow-hidden rounded-lg\">\r\n        <img\r\n          src={\r\n            currentImage ||\r\n            \"https://res.cloudinary.com/dmz66rbbk/image/upload/v1741570849/empty_dhtk5e.jpg\"\r\n          }\r\n          alt={name}\r\n          loading=\"lazy\"\r\n          decoding=\"async\"\r\n          className=\"w-full h-full object-cover rounded-lg\"\r\n          onError={(e) =>\r\n            (e.target.src =\r\n              \"https://res.cloudinary.com/dmz66rbbk/image/upload/v1741570849/empty_dhtk5e.jpg\")\r\n          }\r\n        />\r\n      </div>\r\n\r\n      <div className=\" p-2 mt-5\">\r\n        <h2 className=\"text-lg font-semibold text-white drop-shadow-md\">\r\n          {name}\r\n        </h2>\r\n        <div className=\"flex justify-between\">\r\n          <p className=\"text-xl text-yellow-400 font-bold drop-shadow-md\">\r\n            {Number(price).toLocaleString()}đ\r\n          </p>\r\n          <p className=\"flex items-center gap-2 text-green-300\">\r\n            <FaBoxOpen className=\"text-green-400\" />\r\n            {quantity > 0 ? \"Còn hàng\" : \"Hết hàng\"}\r\n          </p>\r\n        </div>\r\n\r\n        <p className=\"text-gray-300 text-sm line-clamp-2\">\r\n          {description || \"Không có mô tả sản phẩm\"}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className=\"text-red-500 p-4 bg-red-100 rounded-lg shadow-md\">\r\n      Sản phẩm không hợp lệ hoặc thiếu thông tin.\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}